<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>XMLHttpRequest - Promise</title>
</head>
<body>
  <div>
    姓名：
    年龄：
  </div>
  <script>

    function xhr(options) {
      return new Promise(function (resolve, reject) {
        var xhr = new XMLHttpRequest()
        xhr.open(options.type || 'get', options.url)
        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
            resolve(xhr.responseText)
          } else {
            reject()
          }
        }
        xhr.send()
      })
    }

    xhr({
      url: '',
      type: '',
      data: ''
    })
    .then(data => {
      return xhr({
        
      })
    })
    .then(data => {
      // 做渲染处理
    })

    $.ajax({

    }).then(data => {
      return $.ajax({

      })
    })
    .then(data => {
      
    })
  </script>
</body>
</html>
